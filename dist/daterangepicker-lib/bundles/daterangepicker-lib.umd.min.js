!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("jquery"),require("moment"),require("daterangepicker"),require("@angular/common")):"function"==typeof define&&define.amd?define("daterangepicker-lib",["exports","@angular/core","jquery","moment","daterangepicker","@angular/common"],t):t((e=e||self)["daterangepicker-lib"]={},e.ng.core,e.$,e.moment,null,e.ng.common)}(this,(function(e,t,a,n,r,i){"use strict";a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;function o(e){var t="function"==typeof Symbol&&Symbol.iterator,a=t&&e[t],n=0;if(a)return a.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var s=function(){function e(){}return e.BASE_URI="/cfa/api/",e.STATUS_CODE={OK:200},e.EMPTY_STRING="",e}();var d=function(){function e(){}return e.getEpochTimeInSeconds=function(e){return Math.floor(e/1e3)},e.dateTimeString="_d",e.monthList=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e.milisInSecond=1e3,e.milisInMinute=6e4,e.milisInHour=36e5,e.milisInDay=864e5,e.milisInMonth=2592e6,e.DATE_FORMAT_DD_MMM_YYYY="DD MMM YYYY",e.DATE_FORMAT_dd_MMM_yyyy="dd MMM yyyy",e.DATE_FORMAT_EEE_dd_MMM_yyyy="EEE, dd MMM yyyy",e.DATE_FORMAT_dd_MMM="dd MMM",e.DATE_FORMAT_DD_MMM="DD MMM",e.DATE_FORMAT_hh_mm_A="hh:mm A",e.DATE_FORMAT_hh_mm_a="hh:mm a",e.DATE_FORMAT_MMM="MMM",e.DATE_RANGE={WEEK:"Week",MONTH:"Month",QUARTER:"Quarter"},e}();var c=function(){function e(){this.timePicker=!1,this.alwaysShowCalendar=!0,this.startTime=0,this.endTime=0,this.enableDateRangeOption=!0,this.tooltipMessage=s.EMPTY_STRING,this.timeRange=localStorage.getItem("timeRange"),this.checkOutsideClickEvent=!1,this.dateRangeChanged=new t.EventEmitter;var e=n();this.timeRange&&parseInt(this.timeRange)>0&&(e=n.unix(Number.parseInt(this.timeRange))),this.presetsConfig={Today:[n(e),n(e)],"This Week":[n(e).startOf("week"),n(e).endOf("week")],Week:[n(e).startOf("week"),n(e).endOf("week")],"This Month":[n(e).startOf("month"),n(e).endOf("month")],Month:[n(e).startOf("month"),n(e).endOf("month")],Yesterday:[n(e).subtract(1,"days"),n(e).subtract(1,"days")],"Last 7 Days":[n(e).subtract(6,"days"),n(e)],"Last 30 Days":[n(e).subtract(29,"days"),n(e)],"Last Month":[n(e).subtract(1,"month").startOf("month"),n(e).subtract(1,"month").endOf("month")],Quarter:[n(e).startOf("quarter"),n(e).endOf("quarter")]}}return e.prototype.ngOnInit=function(){this.prepareConfigForEnabledPresets()},e.prototype.ngAfterViewInit=function(){this.initializeDateRangePicker()},e.prototype.initializeDateRangePicker=function(e,t){0==this.startTime?n.utc().subtract(29,"days"):n.utc(1e3*this.startTime),0==this.endTime?n.utc():n.utc(1e3*this.endTime);var r=this,i={alwaysShowCalendars:r.alwaysShowCalendar,timePicker:r.timePicker,startDate:r.startTime,endDate:r.endTime,ranges:r.enabledPresetsRangeConfig};e&&(i.minDate=e),t&&(i.maxDate=t),this.locale&&(i.locale=this.locale),a(this.dateRangePicker.nativeElement).daterangepicker(i,this.cb.bind(this)).on("outsideClick.daterangepicker",(function(e,t){r.checkOutsideClickEvent=!0,t.startDate=t.oldStartDate,t.endDate=t.oldEndDate}))},e.prototype.cb=function(e,t){var n=this;setTimeout((function(){n.checkOutsideClickEvent?n.checkOutsideClickEvent=!n.checkOutsideClickEvent:(a(n.dateRangePickerInput.nativeElement).html(e.format(d.DATE_FORMAT_DD_MMM_YYYY)+" - "+t.format(d.DATE_FORMAT_DD_MMM_YYYY)),n.dateRangeChanged.emit({startDate:d.getEpochTimeInSeconds(e._d.getTime()-6e4*e._d.getTimezoneOffset()),endDate:d.getEpochTimeInSeconds(t._d.getTime()-6e4*t._d.getTimezoneOffset()),dateRangeString:e.format(d.DATE_FORMAT_DD_MMM_YYYY)+" - "+t.format(d.DATE_FORMAT_DD_MMM_YYYY)}),n.selectedDuration=e.format(d.DATE_FORMAT_DD_MMM_YYYY)+" - "+t.format(d.DATE_FORMAT_DD_MMM_YYYY))}),0)},e.prototype.prepareConfigForEnabledPresets=function(){var e,t,a={};try{for(var n=o(this.enabledPresets),r=n.next();!r.done;r=n.next()){var i=r.value;a[i]=this.presetsConfig[i]}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.enabledPresetsRangeConfig=a},e.prototype.updateDates=function(e,t){a(this.dateRangePicker.nativeElement).data("daterangepicker").setStartDate(e.format("MM-DD-YYYY")),a(this.dateRangePicker.nativeElement).data("daterangepicker").setEndDate(t.format("MM-DD-YYYY")),a(this.dateRangePickerInput.nativeElement).html(e.format(d.DATE_FORMAT_DD_MMM_YYYY)+" - "+t.format(d.DATE_FORMAT_DD_MMM_YYYY))},e.decorators=[{type:t.Component,args:[{selector:"app-daterange-picker",template:'\x3c!--<tooltip-content #tooltipContent>{{tooltipMessage}}</tooltip-content>--\x3e\n<span [ngClass]="{\'disabled-custom\': !enableDateRangeOption }" tooltipPlacement="bottom">\n    <input [attr.id]="id" #dateRangePicker class="btn btn-default dateRangePicker" value="{{selectedDuration}}" />\n</span>\n',styles:[""]}]}],e.ctorParameters=function(){return[]},e.propDecorators={id:[{type:t.Input,args:["id"]}],enabledPresets:[{type:t.Input,args:["enabledPresets"]}],selectedDuration:[{type:t.Input,args:["selectedDuration"]}],timePicker:[{type:t.Input,args:["timePicker"]}],alwaysShowCalendar:[{type:t.Input,args:["alwaysShowCalendars"]}],locale:[{type:t.Input,args:["locale"]}],minDate:[{type:t.Input,args:["minDate"]}],maxDate:[{type:t.Input,args:["minDate"]}],startTime:[{type:t.Input,args:["startTime"]}],endTime:[{type:t.Input,args:["endTime"]}],enableDateRangeOption:[{type:t.Input,args:["enableDateRangeOption"]}],tooltipMessage:[{type:t.Input,args:["tooltipMessage"]}],dateRangePicker:[{type:t.ViewChild,args:["dateRangePicker",{static:!1}]}],dateRangePickerInput:[{type:t.ViewChild,args:["dateRangePickerInput",{static:!1}]}],dateRangeChanged:[{type:t.Output}]},e}();var l=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[c],imports:[i.CommonModule],exports:[c]}]}],e}();e.DaterangepickerLibComponent=c,e.DaterangepickerLibModule=l,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=daterangepicker-lib.umd.min.js.map